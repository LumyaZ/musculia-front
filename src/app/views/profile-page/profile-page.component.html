<app-nav-bar></app-nav-bar>

<div class="profile-container" *ngIf="userProfile">
  <div class="personal-info-block">
    
    <div class="profile-main">
      <div class="profile-header">
        <div class="profile-avatar">
          {{ getInitials() }}
        </div>
        <div class="profile-info">
          <h2>{{ userProfile.authUser?.email || 'Utilisateur' }}</h2>
        </div>
      </div>

      <div class="profile-stats">
        <div class="stat-item">
          <span class="stat-value">0</span>
          <span class="stat-label">Abonnements</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">0</span>
          <span class="stat-label">Abonnés</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Section basée sur "Informations Complémentaires" -->
  <div class="profile-section-block">
    <div class="section-header">
      <h3>Informations Complémentaires</h3>
      <button class="edit-button" (click)="openModal('basic')">
        <i class="fas fa-pencil-alt"></i>
      </button>
    </div>
    <div class="section-content">
      <p>Genre: {{ getTranslatedGender(userProfile.gender) }}</p>
      <p>Poids: {{ userProfile.weight }} kg</p>
      <p>Taille: {{ userProfile.height }} cm</p>
      <p>Masse Grasse: {{ userProfile.bodyFat }}%</p>
    </div>
  </div>

  <!-- Section basée sur "Expérience d'Entraînement" -->
  <div class="profile-section-block">
    <div class="section-header">
      <h3>Expérience d'Entraînement</h3>
      <button class="edit-button" (click)="openModal('experience')">
        <i class="fas fa-pencil-alt"></i>
      </button>
    </div>
    <div class="section-content">
      <p>Années d'Expérience: {{ userProfile.experienceYears }}</p>
      <p>Sessions par Semaine: {{ userProfile.trainingFrequency }}</p>
      <p>Durée des Sessions: {{ userProfile.sessionDuration }} minutes</p>
    </div>
  </div>

  <!-- Section basée sur "Objectifs et Préférences" -->
  <div class="profile-section-block">
    <div class="section-header">
      <h3>Objectifs et Préférences</h3>
      <button class="edit-button" (click)="openModal('goals')">
        <i class="fas fa-pencil-alt"></i>
      </button>
    </div>
    <div class="section-content">
      <p>Objectif Principal: {{ getTranslatedGoal(userProfile.goal) }}</p>
      <p>Préférence d'Entraînement: {{ getTranslatedTrainingPreference(userProfile.trainingPreference) }}</p>
    </div>
  </div>

  <!-- Section basée sur "Équipement" -->
  <div class="profile-section-block">
    <div class="section-header">
      <h3>Équipement Disponible</h3>
      <button class="edit-button" (click)="openModal('equipment')">
        <i class="fas fa-pencil-alt"></i>
      </button>
    </div>
    <div class="section-content">
      <p>Équipement: {{ userProfile.equipmentAvailable }}</p>
    </div>
  </div>
</div>

<!-- Optional: Display a loading message if userProfile is null -->
<div *ngIf="!userProfile" class="loading-message">
  Chargement du profil...
</div>

<app-profile-modal></app-profile-modal> 